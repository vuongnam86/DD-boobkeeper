{"version":3,"file":"BFormTags.vue_vue_type_script_setup_true_lang-JdcchcU2.js","sources":["../src/components/BFormTags/BFormTag.vue","../src/components/BFormTags/BFormTags.vue"],"sourcesContent":["<template>\n  <component\n    :is=\"props.tag\"\n    :id=\"computedId\"\n    :title=\"tagText\"\n    class=\"badge b-form-tag d-inline-flex align-items-center mw-100\"\n    :class=\"computedClasses\"\n    :aria-labelledby=\"taglabelId\"\n  >\n    <span :id=\"taglabelId\" class=\"b-form-tag-content flex-grow-1 text-truncate\">\n      <slot>{{ tagText }}</slot>\n    </span>\n    <BCloseButton\n      v-if=\"!props.disabled && !props.noRemove\"\n      aria-keyshortcuts=\"Delete\"\n      :aria-label=\"props.removeLabel\"\n      class=\"b-form-tag-remove\"\n      :aria-describedby=\"taglabelId\"\n      :aria-controls=\"props.id\"\n      @click=\"emit('remove', tagText)\"\n    />\n  </component>\n</template>\n\n<script setup lang=\"ts\">\nimport {computed} from 'vue'\nimport {useDefaults} from '../../composables/useDefaults'\nimport {useId} from '../../composables/useId'\nimport type {BFormTagProps} from '../../types/ComponentProps'\nimport BCloseButton from '../BButton/BCloseButton.vue'\nimport {useColorVariantClasses} from '../../composables/useColorVariantClasses'\nimport type {BFormTagEmits, BFormTagSlots} from '../../types'\n\nconst _props = withDefaults(defineProps<BFormTagProps>(), {\n  disabled: false,\n  id: undefined,\n  noRemove: false,\n  pill: false,\n  removeLabel: 'Remove tag',\n  tag: 'span',\n  title: undefined,\n  variant: 'secondary',\n})\nconst props = useDefaults(_props, 'BFormTag')\nconst emit = defineEmits<BFormTagEmits>()\nconst slots = defineSlots<BFormTagSlots>()\n\nconst computedId = useId(() => props.id)\n\nconst tagText = computed(\n  () => ((slots.default?.({})[0].children ?? '').toString() || props.title) ?? ''\n)\nconst taglabelId = computed(() => `${computedId.value}taglabel__`)\n\nconst colorClasses = useColorVariantClasses(props)\nconst computedClasses = computed(() => [\n  colorClasses.value,\n  {\n    'rounded-pill': props.pill,\n    'disabled': props.disabled,\n  },\n])\n</script>\n","<template>\n  <div\n    :id=\"computedId\"\n    class=\"b-form-tags form-control h-auto\"\n    :class=\"computedClasses\"\n    role=\"group\"\n    tabindex=\"-1\"\n    @focusin=\"onFocusin\"\n    @focusout=\"emit('focusout', $event)\"\n  >\n    <output\n      :id=\"`${computedId}selected_tags__`\"\n      class=\"visually-hidden\"\n      :for=\"_inputId\"\n      :aria-live=\"focused ? 'polite' : 'off'\"\n      aria-atomic=\"true\"\n      aria-relevant=\"additions text\"\n      >{{ tags.join(', ') }}</output\n    >\n    <div\n      :id=\"`${computedId}removed_tags__`\"\n      role=\"status\"\n      :aria-live=\"focused ? 'assertive' : 'off'\"\n      aria-atomic=\"true\"\n      class=\"visually-hidden\"\n    >\n      ({{ props.tagRemovedLabel }}) {{ lastRemovedTag }}\n    </div>\n\n    <slot\n      :add-button-text=\"props.addButtonText\"\n      :add-button-variant=\"props.addButtonVariant\"\n      :add-tag\n      :disable-add-button=\"disableAddButton\"\n      :disabled=\"props.disabled\"\n      :duplicate-tag-text=\"props.duplicateTagText\"\n      :duplicate-tags=\"duplicateTags\"\n      :form=\"props.form\"\n      :input-attrs=\"{\n        ...props.inputAttrs,\n        disabled: props.disabled,\n        form: props.form,\n        id: _inputId,\n        value: inputValue,\n      }\"\n      :input-class=\"props.inputClass\"\n      :input-handlers=\"{\n        input: onInput,\n        keydown: onKeydown,\n        change: onChange,\n      }\"\n      :input-id=\"_inputId\"\n      :input-type=\"props.inputType\"\n      :invalid-tag-text=\"props.invalidTagText\"\n      :invalid-tags\n      :is-duplicate\n      :is-invalid\n      :is-limit-reached=\"isLimitReached\"\n      :limit-tags-text=\"props.limitTagsText\"\n      :limit=\"limitNumber\"\n      :no-tag-remove=\"props.noTagRemove\"\n      :placeholder=\"props.placeholder\"\n      :remove-tag\n      :required=\"props.required\"\n      :separator=\"props.separator\"\n      :size=\"props.size\"\n      :state=\"props.state\"\n      :tag-class=\"props.tagClass\"\n      :tag-pills=\"props.tagPills\"\n      :tag-remove-label=\"props.tagRemoveLabel\"\n      :tag-variant=\"props.tagVariant\"\n      :tags\n    >\n      <ul\n        :id=\"`${computedId}tag_list__`\"\n        class=\"b-form-tags-list list-unstyled mb-0 d-flex flex-wrap align-items-center\"\n      >\n        <template v-for=\"(tag, index) in tags\" :key=\"index\">\n          <slot\n            name=\"tag\"\n            :tag=\"tag\"\n            :tag-class=\"props.tagClass\"\n            :tag-variant=\"props.tagVariant\"\n            :tag-pills=\"props.tagPills\"\n            :remove-tag=\"removeTag\"\n          >\n            <BFormTag\n              :key=\"tag\"\n              :class=\"props.tagClass\"\n              tag=\"li\"\n              :variant=\"props.tagVariant\"\n              :pill=\"props.tagPills\"\n              @remove=\"removeTag\"\n              >{{ tag }}</BFormTag\n            >\n          </slot>\n        </template>\n        <li\n          role=\"none\"\n          aria-live=\"off\"\n          class=\"b-from-tags-field flex-grow-1\"\n          :aria-controls=\"`${computedId}tag_list__`\"\n        >\n          <div role=\"group\" class=\"d-flex\">\n            <input\n              :id=\"_inputId\"\n              ref=\"_input\"\n              :disabled=\"props.disabled\"\n              :value=\"inputValue\"\n              :type=\"props.inputType\"\n              :placeholder=\"props.placeholder\"\n              class=\"b-form-tags-input w-100 flex-grow-1 p-0 m-0 bg-transparent border-0\"\n              style=\"outline: currentcolor none 0px; min-width: 5rem\"\n              v-bind=\"props.inputAttrs\"\n              :form=\"props.form\"\n              :required=\"props.required || undefined\"\n              :aria-required=\"props.required || undefined\"\n              @input=\"onInput\"\n              @change=\"onChange\"\n              @focus=\"onFocus\"\n              @blur=\"onBlur\"\n            />\n            <button\n              v-if=\"disableAddButton\"\n              type=\"button\"\n              class=\"btn b-form-tags-button py-0\"\n              :class=\"[\n                inputClass,\n                {\n                  [`btn-${props.addButtonVariant}`]: props.addButtonVariant !== null,\n                  'disabled invisible': inputValue.length === 0,\n                },\n              ]\"\n              style=\"font-size: 90%\"\n              :disabled=\"props.disabled || inputValue.length === 0 || isLimitReached\"\n              @click=\"addTag(inputValue)\"\n            >\n              <slot name=\"add-button-text\">{{ props.addButtonText }}</slot>\n            </button>\n          </div>\n        </li>\n      </ul>\n      <div :aria-live=\"props.feedbackAriaLive\" aria-atomic=\"true\">\n        <div v-if=\"isInvalid\" class=\"d-block invalid-feedback\">\n          {{ props.invalidTagText }}: {{ inputValue }}\n        </div>\n        <small v-if=\"isDuplicate\" class=\"form-text text-body-secondary\"\n          >{{ props.duplicateTagText }}: {{ inputValue }}</small\n        >\n        <small v-if=\"tags.length === props.limit\" class=\"form-text text-body-secondary\">\n          {{ props.limitTagsText }}</small\n        >\n      </div>\n    </slot>\n    <template v-if=\"props.name\">\n      <input\n        v-for=\"(tag, index) in tags\"\n        :key=\"index\"\n        type=\"hidden\"\n        :name=\"props.name\"\n        :value=\"tag\"\n      />\n    </template>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {onKeyStroke, syncRef, useFocus, useToNumber} from '@vueuse/core'\nimport {computed, ref, useTemplateRef} from 'vue'\nimport {useDefaults} from '../../composables/useDefaults'\nimport type {BFormTagsProps} from '../../types/ComponentProps'\nimport {escapeRegExpChars} from '../../utils/stringUtils'\nimport BFormTag from './BFormTag.vue'\nimport {useId} from '../../composables/useId'\nimport {useStateClass} from '../../composables/useStateClass'\nimport type {BFormTagsEmits, BFormTagsSlots} from '../../types'\n\nconst _props = withDefaults(defineProps<Omit<BFormTagsProps, 'modelValue'>>(), {\n  addButtonText: 'Add',\n  addButtonVariant: 'outline-secondary',\n  addOnChange: false,\n  autofocus: false,\n  disabled: false,\n  duplicateTagText: 'Duplicate tag(s)',\n  feedbackAriaLive: 'assertive',\n  form: undefined,\n  inputAttrs: undefined,\n  inputClass: undefined,\n  inputId: undefined,\n  inputType: 'text',\n  invalidTagText: 'Invalid tag(s)',\n  limit: undefined,\n  limitTagsText: 'Tag limit reached',\n  name: undefined,\n  noAddOnEnter: false,\n  noOuterFocus: false,\n  noTagRemove: false,\n  placeholder: 'Add tag...',\n  removeOnDelete: false,\n  required: false,\n  separator: undefined,\n  size: 'md',\n  state: null,\n  tagClass: undefined,\n  tagPills: false,\n  tagRemoveLabel: undefined,\n  tagRemovedLabel: 'Tag removed',\n  tagValidator: () => true,\n  tagVariant: 'secondary',\n})\nconst props = useDefaults(_props, 'BFormTags')\nconst emit = defineEmits<BFormTagsEmits>()\ndefineSlots<BFormTagsSlots>()\n\nconst modelValue = defineModel<Exclude<BFormTagsProps['modelValue'], undefined>>({\n  default: () => [],\n})\n\nconst computedId = useId()\n\nconst limitNumber = useToNumber(() => props.limit ?? Number.NaN)\n\nconst stateClass = useStateClass(() => props.state)\n\nconst input = useTemplateRef('_input')\n\nconst {focused} = useFocus(input, {\n  initialValue: props.autofocus,\n})\n\nconst _inputId = computed(() => props.inputId || `${computedId.value}input__`)\nconst tags = ref<string[]>([...modelValue.value])\nconst inputValue = ref<string>('')\nconst shouldRemoveOnDelete = ref<boolean>(modelValue.value.length > 0)\nconst lastRemovedTag = ref<string>('')\nconst validTags = ref<string[]>([])\nconst invalidTags = ref<string[]>([])\nconst duplicateTags = ref<string[]>([])\n\nsyncRef(modelValue, tags, {\n  direction: 'ltr',\n  transform: {\n    ltr: (v) => [...v],\n  },\n})\n\nconst computedClasses = computed(() => [\n  stateClass.value,\n  {\n    [`form-control-${props.size}`]: props.size !== 'md',\n    disabled: props.disabled,\n    focus: focused.value,\n  },\n])\n\nconst isDuplicate = computed(() => tags.value.includes(inputValue.value))\nconst isInvalid = computed(() =>\n  inputValue.value === '' ? false : !props.tagValidator(inputValue.value)\n)\nconst isLimitReached = computed(() => tags.value.length === limitNumber.value)\nconst disableAddButton = computed(() => !isInvalid.value && !isDuplicate.value)\n\nconst onFocusin = (e: Readonly<FocusEvent>): void => {\n  if (props.disabled) {\n    const target = e.target as HTMLDivElement\n    target.blur()\n    return\n  }\n\n  emit('focusin', e)\n}\n\nconst onFocus = (e: Readonly<FocusEvent>): void => {\n  if (props.disabled || props.noOuterFocus) {\n    return\n  }\n\n  focused.value = true\n  emit('focus', e)\n}\n\nconst onBlur = (e: Readonly<FocusEvent>): void => {\n  focused.value = false\n  emit('blur', e)\n}\n\nconst onInput = (e: Readonly<Event> | string): void => {\n  const value = typeof e === 'string' ? e : (e.target as HTMLInputElement).value\n\n  shouldRemoveOnDelete.value = false\n\n  if (props.separator?.includes(value.charAt(0)) && value.length > 0) {\n    if (input.value) {\n      input.value.value = ''\n    }\n    return\n  }\n\n  inputValue.value = value\n\n  if (props.separator?.includes(value.charAt(value.length - 1))) {\n    addTag(value.slice(0, value.length - 1))\n    return\n  }\n\n  validTags.value = props.tagValidator(value) && !isDuplicate.value ? [value] : []\n  invalidTags.value = props.tagValidator(value) ? [] : [value]\n  duplicateTags.value = isDuplicate.value ? [value] : []\n\n  emit('tag-state', validTags.value, invalidTags.value, duplicateTags.value)\n}\n\nconst onChange = (e: Readonly<Event>): void => {\n  if (props.addOnChange) {\n    onInput(e)\n\n    if (!isDuplicate.value) {\n      addTag(inputValue.value)\n    }\n  }\n}\n\nconst onKeydown = (e: Readonly<KeyboardEvent>): void => {\n  if ((e.key === 'Enter' || e.code === 'NumpadEnter') && !props.noAddOnEnter) {\n    addTag(inputValue.value)\n    return\n  }\n\n  if (\n    (e.key === 'Backspace' || e.key === 'Delete') &&\n    props.removeOnDelete &&\n    inputValue.value === '' &&\n    shouldRemoveOnDelete.value &&\n    tags.value.length > 0\n  ) {\n    removeTag(tags.value[tags.value.length - 1])\n  } else {\n    shouldRemoveOnDelete.value = true\n  }\n}\n\nonKeyStroke(onKeydown, {target: input})\n\nconst separator = computed(() => {\n  if (!props.separator) {\n    return\n  }\n\n  return typeof props.separator === 'string' ? props.separator : props.separator.join('')\n})\n\nconst separatorRegExp = computed(() => {\n  if (!separator.value) {\n    return\n  }\n\n  return new RegExp(`[${escapeRegExpChars(separator.value)}]+`)\n})\n\nconst addTag = (tag?: string): void => {\n  tag = (tag ?? inputValue.value).trim()\n\n  const newTags = separatorRegExp.value\n    ? tag.split(separatorRegExp.value).map((t) => t.trim())\n    : [tag]\n  const validTags: string[] = []\n\n  for (const newTag of newTags) {\n    if (newTag === '' || isDuplicate.value || !props.tagValidator(newTag)) {\n      continue\n    }\n\n    if (limitNumber.value && isLimitReached.value) {\n      break\n    }\n\n    validTags.push(newTag)\n  }\n\n  const newValue = [...modelValue.value, ...validTags]\n  inputValue.value = ''\n  shouldRemoveOnDelete.value = true\n  modelValue.value = newValue\n  focused.value = true\n}\n\nconst removeTag = (tag?: string): void => {\n  const tagIndex = tags.value.indexOf(tag?.toString() ?? '')\n  if (tagIndex === -1) return\n  lastRemovedTag.value = tags.value.splice(tagIndex, 1).toString()\n  modelValue.value = tags.value\n}\n\ndefineExpose({\n  blur: () => {\n    focused.value = false\n  },\n  element: input,\n  focus: () => {\n    focused.value = true\n  },\n  inputValue,\n})\n</script>\n"],"names":["_props","__props","props","useDefaults","emit","__emit","slots","_useSlots","computedId","useId","id","tagText","computed","default","children","toString","title","taglabelId","value","colorClasses","useColorVariantClasses","computedClasses","pill","disabled","_createBlock","_resolveDynamicComponent","_unref","tag","class","_normalizeClass","_createElementVNode","_renderSlot","_ctx","noRemove","BCloseButton","removeLabel","onClick","_cache","$event","modelValue","_useModel","limitNumber","useToNumber","limit","Number","NaN","stateClass","useStateClass","state","input","useTemplateRef","focused","useFocus","initialValue","autofocus","_inputId","inputId","tags","ref","inputValue","shouldRemoveOnDelete","length","lastRemovedTag","validTags","invalidTags","duplicateTags","syncRef","direction","transform","ltr","v","size","focus","isDuplicate","includes","isInvalid","tagValidator","isLimitReached","disableAddButton","onFocusin","e","target","blur","onFocus","noOuterFocus","onBlur","onInput","separator","charAt","addTag","slice","onChange","addOnChange","onKeydown","key","code","noAddOnEnter","removeOnDelete","removeTag","onKeyStroke","join","separatorRegExp","RegExp","escapeRegExpChars","trim","newTags","split","map","t","newTag","push","newValue","tagIndex","indexOf","splice","__expose","element","_createElementBlock","role","tabindex","onFocusout","for","_toDisplayString","_hoisted_2","tagRemovedLabel","_hoisted_3","$slots","addButtonText","addButtonVariant","duplicateTagText","form","inputAttrs","inputClass","inputHandlers","inputType","invalidTagText","limitTagsText","noTagRemove","placeholder","required","tagClass","tagPills","tagRemoveLabel","tagVariant","_openBlock","_Fragment","_renderList","index","BFormTag","variant","onRemove","_hoisted_6","_mergeProps","type","style","outline","_createTextVNode","feedbackAriaLive","_hoisted_10","_hoisted_11","_hoisted_12","name"],"mappings":"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"}