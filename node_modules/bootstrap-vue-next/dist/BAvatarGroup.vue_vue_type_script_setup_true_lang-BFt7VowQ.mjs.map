{"version":3,"file":"BAvatarGroup.vue_vue_type_script_setup_true_lang-BFt7VowQ.mjs","sources":["../src/components/BAvatar/BAvatar.vue","../src/components/BAvatar/BAvatarGroup.vue"],"sourcesContent":["<template>\n  <component\n    :is=\"computedTag\"\n    class=\"b-avatar\"\n    :class=\"computedClasses\"\n    :style=\"computedStyle\"\n    v-bind=\"computedLinkProps\"\n    :type=\"props.button && !computedLink ? props.buttonType : undefined\"\n    :disabled=\"props.disabled || null\"\n    :variant=\"null\"\n    @click=\"clicked\"\n  >\n    <span v-if=\"hasDefaultSlot\" class=\"b-avatar-custom\">\n      <slot />\n    </span>\n    <span v-else-if=\"!!localSrc\" class=\"b-avatar-img\">\n      <img :src=\"localSrc\" :alt=\"props.alt\" @error=\"onImgError\" />\n    </span>\n    <span v-else-if=\"!!props.text\" class=\"b-avatar-text\" :style=\"textFontStyle\">\n      {{ props.text }}\n    </span>\n    <span v-else class=\"b-avatar-img\"\n      ><svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        width=\"80%\"\n        height=\"80%\"\n        fill=\"currentColor\"\n        class=\"bi bi-person-fill\"\n        viewBox=\"0 0 16 16\"\n      >\n        <path d=\"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6\" />\n      </svg>\n    </span>\n    <BBadge\n      v-if=\"showBadge\"\n      :pill=\"props.badgePill\"\n      :dot-indicator=\"props.badgeDotIndicator || badgeImplicitlyDot\"\n      :variant=\"props.badgeVariant\"\n      :bg-variant=\"props.badgeBgVariant\"\n      :text-variant=\"props.badgeTextVariant\"\n      :style=\"badgeStyle\"\n      :placement=\"props.badgePlacement\"\n    >\n      <slot name=\"badge\">\n        {{ badgeText }}\n      </slot>\n    </BBadge>\n  </component>\n</template>\n\n<script setup lang=\"ts\">\nimport {avatarGroupInjectionKey} from '../../utils/keys'\nimport {computed, type CSSProperties, inject, ref, type StyleValue, watch} from 'vue'\nimport type {BAvatarProps} from '../../types/ComponentProps'\nimport BLink from '../BLink/BLink.vue'\nimport BBadge from '../BBadge/BBadge.vue'\nimport {useBLinkHelper} from '../../composables/useBLinkHelper'\nimport {isEmptySlot} from '../../utils/dom'\nimport {useNumberishToStyle} from '../../composables/useNumberishToStyle'\nimport {useRadiusElementClasses} from '../../composables/useRadiusElementClasses'\nimport {useColorVariantClasses} from '../../composables/useColorVariantClasses'\nimport type {BAvatarEmits, BAvatarSlots, Size} from '../../types'\nimport {useDefaults} from '../../composables/useDefaults'\n\nconst _props = withDefaults(defineProps<BAvatarProps>(), {\n  alt: 'avatar',\n  badge: false,\n  badgeBgVariant: null,\n  badgeTextVariant: null,\n  badgeVariant: 'primary',\n  badgePlacement: 'bottom-end',\n  badgeDotIndicator: false,\n  badgePill: false,\n  button: false,\n  buttonType: 'button',\n  size: undefined,\n  square: false,\n  src: undefined,\n  text: undefined,\n  // Link props\n  variant: 'secondary',\n  // All others use defaults\n  active: undefined,\n  activeClass: undefined,\n  disabled: undefined,\n  exactActiveClass: undefined,\n  href: undefined,\n  opacity: undefined,\n  opacityHover: undefined,\n  rel: undefined,\n  replace: undefined,\n  stretched: false,\n  routerComponentName: undefined,\n  target: undefined,\n  underlineOffset: undefined,\n  underlineOffsetHover: undefined,\n  underlineOpacity: undefined,\n  underlineOpacityHover: undefined,\n  underlineVariant: undefined,\n  // End link props\n  // ColorExtendables props\n  // Variant is here as well\n  bgVariant: null,\n  textVariant: null,\n  // End ColorExtendables props\n  // RadiusElementExtendables props\n  rounded: 'circle',\n  roundedBottom: undefined,\n  roundedEnd: undefined,\n  roundedStart: undefined,\n  roundedTop: undefined,\n  // End RadiusElementExtendables props\n})\nconst props = useDefaults(_props, 'BAvatar')\nconst emit = defineEmits<BAvatarEmits>()\nconst slots = defineSlots<BAvatarSlots>()\n\nconst localSrc = ref(props.src)\nwatch(\n  () => props.src,\n  (value) => {\n    localSrc.value = value\n  }\n)\n\nconst {computedLink, computedLinkProps} = useBLinkHelper(props)\n\nconst parentData = inject(avatarGroupInjectionKey, null)\n\nconst SIZES = Object.freeze([\n  null,\n  ...Object.keys({\n    lg: null,\n    md: null,\n    sm: null,\n  } satisfies Record<Size, null>),\n] as (string | null)[])\nconst FONT_SIZE_SCALE = 0.4\nconst BADGE_FONT_SIZE_SCALE = FONT_SIZE_SCALE * 0.7\n\nconst hasDefaultSlot = computed(() => !isEmptySlot(slots.default))\nconst hasBadgeSlot = computed(() => !isEmptySlot(slots.badge))\n\nconst showBadge = computed(() => !!props.badge || props.badge === '' || hasBadgeSlot.value)\nconst computedSquare = computed(() => parentData?.square.value || props.square)\n\n// const computedPropSize = useNumberishToStyle(() => props.size)\n// const propSizeIsLiteralSize = (val: unknown): val is Size =>\n//   !!val && typeof val === 'string' && SIZES.includes(val)\n// const computedParentSize = useNumberishToStyle(() => parentData?.size.value)\n// const computedSize = computed(() => computedParentSize.value ?? computedPropSize.value)\n// const computedPropSizeIsLiteralSize = computed(() => propSizeIsLiteralSize(computedSize.value))\n\nconst computedSize = useNumberishToStyle(() => parentData?.size.value ?? props.size)\nconst computedSizeIsLiteralSize = computed(\n  () => !!computedSize.value && SIZES.includes(computedSize.value)\n)\n\nconst computedVariant = computed(() => parentData?.variant.value ?? props.variant)\nconst computedRounded = computed(() => parentData?.rounded.value ?? props.rounded)\nconst computedRoundedTop = computed(() => parentData?.roundedTop.value ?? props.roundedTop)\nconst computedRoundedBottom = computed(() => parentData?.roundedBottom.value ?? props.roundedBottom)\nconst computedRoundedStart = computed(() => parentData?.roundedStart.value ?? props.roundedStart)\nconst computedRoundedEnd = computed(() => parentData?.roundedEnd.value ?? props.roundedEnd)\n\nconst radiusElementClasses = useRadiusElementClasses(() => ({\n  rounded: computedRounded.value,\n  roundedTop: computedRoundedTop.value,\n  roundedBottom: computedRoundedBottom.value,\n  roundedStart: computedRoundedStart.value,\n  roundedEnd: computedRoundedEnd.value,\n}))\n\nconst badgeText = computed(() => (props.badge === true ? '' : props.badge))\nconst badgeImplicitlyDot = computed(() => !badgeText.value && !hasBadgeSlot.value)\n\nconst colorClasses = useColorVariantClasses(() => ({\n  bgVariant: parentData?.bgVariant.value ?? props.bgVariant,\n  textVariant: parentData?.textVariant.value ?? props.textVariant,\n  variant: computedVariant.value,\n}))\nconst computedClasses = computed(() => [\n  colorClasses.value,\n  // Square overwrites all else\n  computedSquare.value === true ? undefined : radiusElementClasses.value,\n  {\n    [`b-avatar-${computedSize.value}`]:\n      computedSizeIsLiteralSize.value && computedSize.value !== 'md',\n    [`btn-${computedVariant.value}`]: props.button ? computedVariant.value !== null : false,\n    'badge': !props.button && computedVariant.value !== null && hasDefaultSlot.value,\n    'btn': props.button,\n    // Square is the same as rounded-0 class\n    'rounded-0': computedSquare.value === true,\n  },\n])\n\nconst badgeStyle = computed<StyleValue>(() => ({\n  fontSize:\n    (!computedSizeIsLiteralSize.value\n      ? `calc(${computedSize.value} * ${BADGE_FONT_SIZE_SCALE})`\n      : '') || '',\n}))\n\nconst textFontStyle = computed<StyleValue>(() => {\n  const fontSize = !computedSizeIsLiteralSize.value\n    ? `calc(${computedSize.value} * ${FONT_SIZE_SCALE})`\n    : null\n  return fontSize ? {fontSize} : {}\n})\n\nconst marginStyle = computed(() => {\n  const overlapScale = parentData?.overlapScale?.value || 0\n\n  const value =\n    computedSize.value && overlapScale ? `calc(${computedSize.value} * -${overlapScale})` : null\n  return value ? {marginLeft: value, marginRight: value} : {}\n})\n\nconst computedTag = computed(() => (computedLink.value ? BLink : props.button ? 'button' : 'span'))\n\nconst computedStyle = computed<CSSProperties>(() => ({\n  ...marginStyle.value,\n  ...(!computedSizeIsLiteralSize.value\n    ? {\n        width: computedSize.value,\n        height: computedSize.value,\n      }\n    : undefined),\n}))\n\nconst clicked = (e: Readonly<MouseEvent>): void => {\n  if (!props.disabled && (computedLink.value || props.button)) emit('click', e)\n}\n\nconst onImgError = (e: Readonly<Event>) => {\n  localSrc.value = undefined\n  emit('img-error', e)\n}\n</script>\n","<template>\n  <component :is=\"props.tag\" class=\"b-avatar-group\" role=\"group\">\n    <div class=\"b-avatar-group-inner\" :style=\"paddingStyle\">\n      <slot />\n    </div>\n  </component>\n</template>\n\n<script setup lang=\"ts\">\nimport {computed, provide, type StyleValue, toRef} from 'vue'\nimport type {BAvatarGroupProps} from '../../types/ComponentProps'\nimport {avatarGroupInjectionKey} from '../../utils/keys'\nimport {useDefaults} from '../../composables/useDefaults'\nimport {useToNumber} from '@vueuse/core'\nimport {useNumberishToStyle} from '../../composables/useNumberishToStyle'\nimport type {BAvatarGroupSlots} from '../../types'\n\nconst _props = withDefaults(defineProps<BAvatarGroupProps>(), {\n  overlap: 0.3,\n  size: undefined,\n  square: false,\n  tag: 'div',\n  // RadiusElementExtendables props\n  rounded: 'circle',\n  roundedBottom: undefined,\n  roundedEnd: undefined,\n  roundedStart: undefined,\n  roundedTop: undefined,\n  // End RadiusElementExtendables props\n  // ColorExtendables props\n  bgVariant: null,\n  textVariant: null,\n  variant: null,\n  // End ColorExtendables props\n})\nconst props = useDefaults(_props, 'BAvatarGroup')\ndefineSlots<BAvatarGroupSlots>()\n\nconst overlapNumber = useToNumber(() => props.overlap)\n\nconst computedSize = useNumberishToStyle(() => props.size)\nconst overlapScale = computed(() => Math.min(Math.max(overlapNumber.value, 0), 1) / 2)\n\nconst paddingStyle = computed<StyleValue>(() => {\n  const value = computedSize.value ? `calc(${computedSize.value} * ${overlapScale.value})` : null\n  return value ? {paddingLeft: value, paddingRight: value} : {}\n})\n\nprovide(avatarGroupInjectionKey, {\n  overlapScale,\n  size: toRef(() => props.size),\n  square: toRef(() => props.square),\n  rounded: toRef(() => props.rounded),\n  roundedTop: toRef(() => props.roundedTop),\n  roundedBottom: toRef(() => props.roundedBottom),\n  roundedStart: toRef(() => props.roundedStart),\n  roundedEnd: toRef(() => props.roundedEnd),\n  variant: toRef(() => props.variant),\n  bgVariant: toRef(() => props.bgVariant),\n  textVariant: toRef(() => props.textVariant),\n})\n</script>\n"],"names":["_useSlots","BLink","_createBlock","_resolveDynamicComponent","_mergeProps","_unref","_openBlock","_createElementBlock","_renderSlot","_createElementVNode","_toDisplayString","BBadge"],"mappings":"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"}