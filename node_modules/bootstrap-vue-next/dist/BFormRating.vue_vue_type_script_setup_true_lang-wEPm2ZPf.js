"use strict";const e=require("vue"),l=require("./useDefaults-DspAih6L.js"),a=require("./useId-owZCNodL.js"),o=["id","aria-valuemax","aria-valuenow","aria-valuetext"],t=["name","form","value"],n=["onClick"],r={class:"b-form-rating-star"},u=["width","height"],s={key:0,d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"},c={key:1,d:"M5.354 5.119 7.538.792A.52.52 0 0 1 8 .5c.183 0 .366.097.465.292l2.184 4.327 4.898.696A.54.54 0 0 1 16 6.32a.55.55 0 0 1-.17.445l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256a.5.5 0 0 1-.146.05c-.342.06-.668-.254-.6-.642l.83-4.73L.173 6.765a.55.55 0 0 1-.172-.403.6.6 0 0 1 .085-.302.51.51 0 0 1 .37-.245zM8 12.027a.5.5 0 0 1 .232.056l3.686 1.894-.694-3.957a.56.56 0 0 1 .162-.505l2.907-2.77-4.052-.576a.53.53 0 0 1-.393-.288L8.001 2.223 8 2.226z"},i={key:2,d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.522 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.56.56 0 0 0-.163-.505L1.71 6.745l4.052-.576a.53.53 0 0 0 .393-.288L8 2.223l1.847 3.658a.53.53 0 0 0 .393.288l4.052.575-2.906 2.77a.56.56 0 0 0-.163.506l.694 3.957-3.686-1.894a.5.5 0 0 0-.461 0z"},d=e.defineComponent({__name:"BFormRating",props:e.mergeModels({color:{default:""},id:{default:void 0},inline:{type:Boolean,default:!1},noBorder:{type:Boolean,default:!1},precision:{default:0},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},form:{default:void 0},name:{default:void 0},showClear:{type:Boolean,default:!1},showValue:{type:Boolean,default:!1},showValueMax:{type:Boolean,default:!1},size:{default:"1rem"},stars:{default:5},variant:{default:void 0}},{modelValue:{default:0},modelModifiers:{}}),emits:["update:modelValue"],setup(d,{expose:m}){const v=d,f=l.useDefaults(v,"BFormRating"),p=e.useModel(d,"modelValue"),k=a.useId(()=>f.id,"form-rating"),y=e.computed(()=>({"is-readonly":f.readonly,"is-disabled":f.disabled,"no-border":f.noBorder,"b-form-rating":!0,"d-inline-block":f.inline,"w-100":!f.inline}));function B(e){return x.value-e>=1}function h(e){const l=x.value-e;return l>=.5&&l<1}const w=e.ref(null),g=e.computed({get:()=>p.value,set:e=>{p.value=e}}),x=e.computed(()=>null!==w.value?w.value:g.value),b=e.computed(()=>Math.max(3,f.stars)),L=e.computed(()=>"sm"===f.size?".875rem":"lg"===f.size?"1.25rem":f.size),V=e.computed(()=>{const e=f.precision>0?E.value:x.value;return f.showValueMax?`${e}/${b.value}`:f.showValue?`${e}`:""}),E=e.computed(()=>{const e=x.value,l=10**f.precision;return Math.round((e+Number.EPSILON)*l)/l}),M=e.computed(()=>Array.from({length:b.value},()=>f.disabled?{class:"is-disabled",style:{}}:f.variant?{class:`text-${f.variant}`,style:{}}:f.color?{class:"",style:{color:f.color}}:{class:"",style:{}}));function z(e){if(f.readonly||f.disabled)return;let l=g.value;switch(e.key){case"ArrowRight":case"ArrowUp":l=Math.min(l+1,b.value);break;case"ArrowLeft":case"ArrowDown":l=Math.max(l-1,0);break;default:return}e.preventDefault(),g.value=l}function C(){w.value=null,g.value=0}return m({hoverValue:w}),(l,a)=>(e.openBlock(),e.createElementBlock("div",{id:e.unref(k),class:e.normalizeClass(y.value),role:"slider","aria-valuemin":0,"aria-valuemax":b.value,"aria-valuenow":x.value,"aria-valuetext":`${x.value} of ${b.value}`,tabindex:"0",onKeydown:z},[e.unref(f).name&&!e.unref(f).disabled?(e.openBlock(),e.createElementBlock("input",{key:"hidden",type:"hidden",name:e.unref(f).name,form:e.unref(f).form,value:g.value},null,8,t)):e.createCommentVNode("",!0),!e.unref(f).showClear||e.unref(f).readonly||e.unref(f).disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("span",{key:1,class:"clear-button-spacing",onClick:C},[e.renderSlot(l.$slots,"icon-clear",{},()=>[a[0]||(a[0]=e.createElementVNode("svg",{viewBox:"0 0 16 16",role:"img","aria-label":"x",xmlns:"http://www.w3.org/2000/svg",class:"clear-icon"},[e.createElementVNode("g",null,[e.createElementVNode("path",{d:"M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"})])],-1))])])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(b.value,(a,o)=>(e.openBlock(),e.createElementBlock("span",{key:a,class:"star",onClick:e=>function(e){if(f.readonly||f.disabled)return;const l=null!==w.value?w.value:e;g.value=l}(a)},[e.renderSlot(l.$slots,"default",{starIndex:a,isFilled:B(o),isHalf:h(o)},()=>[e.createElementVNode("span",r,[(e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",width:L.value,height:L.value,fill:"currentColor",class:e.normalizeClass([[M.value[o].class],"star-spacing"]),style:e.normalizeStyle(M.value[o].style),viewBox:"0 0 16 16"},[B(o)?(e.openBlock(),e.createElementBlock("path",s)):h(o)?(e.openBlock(),e.createElementBlock("path",c)):(e.openBlock(),e.createElementBlock("path",i))],14,u))])])],8,n))),128)),e.unref(f).showValue||e.unref(f).showValueMax?(e.openBlock(),e.createElementBlock("span",{key:2,style:e.normalizeStyle({fontSize:L.value}),class:"rating-value-text"},e.toDisplayString(V.value),5)):e.createCommentVNode("",!0)],42,o))}});exports._sfc_main=d;
//# sourceMappingURL=BFormRating.vue_vue_type_script_setup_true_lang-wEPm2ZPf.js.map
