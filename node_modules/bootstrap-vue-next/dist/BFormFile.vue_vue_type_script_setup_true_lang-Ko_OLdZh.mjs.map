{"version":3,"file":"BFormFile.vue_vue_type_script_setup_true_lang-Ko_OLdZh.mjs","sources":["../src/components/BFormFile/BFormFile.vue"],"sourcesContent":["<template>\n  <div ref=\"rootRef\" v-bind=\"processedAttrs.wrapperAttrs\" class=\"b-form-file-root\">\n    <!-- Optional label -->\n    <label\n      v-if=\"hasLabelSlot || props.label\"\n      class=\"form-label\"\n      :class=\"props.labelClass\"\n      :for=\"computedId\"\n    >\n      <slot name=\"label\">\n        {{ props.label }}\n      </slot>\n    </label>\n\n    <!-- Drop zone wrapper -->\n    <div\n      v-if=\"!props.plain\"\n      ref=\"dropZoneRef\"\n      class=\"b-form-file-wrapper\"\n      :class=\"{\n        'b-form-file-dragging': isOverDropZone && !props.noDrop,\n        'b-form-file-has-files': hasFiles,\n      }\"\n    >\n      <!-- Custom file control (mimics Bootstrap native input) -->\n      <div\n        class=\"b-form-file-control\"\n        :class=\"computedClasses\"\n        :aria-disabled=\"props.disabled\"\n        @click=\"handleControlClick\"\n      >\n        <!-- Custom browse button (now on LEFT to match Bootstrap v5) -->\n        <button\n          v-if=\"!props.noButton\"\n          :id=\"computedId\"\n          ref=\"browseButtonRef\"\n          type=\"button\"\n          class=\"b-form-file-button\"\n          :disabled=\"props.disabled\"\n          :aria-label=\"props.ariaLabel\"\n          :aria-labelledby=\"props.ariaLabelledby\"\n          @click.stop=\"openFileDialog\"\n        >\n          {{ effectiveBrowseText }}\n        </button>\n\n        <!-- File name display -->\n        <div class=\"b-form-file-text\">\n          <slot name=\"file-name\" :files=\"selectedFiles\" :names=\"fileNames\">\n            <span v-if=\"hasFiles\">{{ formattedFileNames }}</span>\n            <span v-else-if=\"hasPlaceholderSlot || props.placeholder\" class=\"text-muted\">\n              <slot name=\"placeholder\">{{ props.placeholder }}</slot>\n            </span>\n          </slot>\n        </div>\n      </div>\n\n      <!-- Drag overlay (only shown when dragging) -->\n      <div v-if=\"isOverDropZone && !props.noDrop\" class=\"b-form-file-drag-overlay\">\n        <slot name=\"drop-placeholder\">\n          <div class=\"b-form-file-drag-text\">\n            {{ effectiveDropPlaceholder }}\n          </div>\n        </slot>\n      </div>\n\n      <!-- Hidden input for form submission (positioned behind UI with z-index) -->\n      <input\n        ref=\"customInputRef\"\n        v-bind=\"processedAttrs.inputAttrs\"\n        type=\"file\"\n        :name=\"props.name\"\n        :form=\"props.form\"\n        :multiple=\"props.multiple || props.directory\"\n        :disabled=\"props.disabled\"\n        :required=\"props.required\"\n        :accept=\"computedAccept || undefined\"\n        :capture=\"props.capture\"\n        :directory=\"props.directory\"\n        :webkitdirectory=\"props.directory\"\n        tabindex=\"-1\"\n        aria-hidden=\"true\"\n        style=\"\n          position: absolute;\n          z-index: -5;\n          width: 0;\n          height: 0;\n          opacity: 0;\n          overflow: hidden;\n          pointer-events: none;\n        \"\n      />\n    </div>\n\n    <!-- Plain mode - simple native input -->\n    <input\n      v-else\n      :id=\"computedId\"\n      ref=\"plainInputRef\"\n      v-bind=\"processedAttrs.inputAttrs\"\n      type=\"file\"\n      :class=\"computedPlainClasses\"\n      :form=\"props.form\"\n      :name=\"props.name\"\n      :multiple=\"props.multiple || props.directory\"\n      :disabled=\"props.disabled\"\n      :capture=\"props.capture\"\n      :accept=\"computedAccept || undefined\"\n      :required=\"props.required || undefined\"\n      :aria-label=\"props.ariaLabel\"\n      :aria-labelledby=\"props.ariaLabelledby\"\n      :aria-required=\"props.required || undefined\"\n      :directory=\"props.directory\"\n      :webkitdirectory=\"props.directory\"\n      @change=\"onPlainChange\"\n    />\n\n    <!-- External file display (when showFileNames is true and not plain) -->\n    <div v-if=\"showExternalDisplay\" class=\"b-form-file-display mt-2\">\n      <slot name=\"file-name\" :files=\"selectedFiles\" :names=\"fileNames\">\n        <div v-if=\"hasFiles\" class=\"small text-muted\">\n          {{ formattedFileNames }}\n        </div>\n        <div v-else-if=\"hasPlaceholderSlot || props.placeholder\" class=\"small text-muted\">\n          <slot name=\"placeholder\">\n            {{ props.placeholder }}\n          </slot>\n        </div>\n      </slot>\n    </div>\n\n    <!-- ARIA live region for screen reader announcements -->\n    <div v-if=\"!props.plain\" class=\"visually-hidden\" aria-live=\"polite\" aria-atomic=\"true\">\n      {{ ariaLiveMessage }}\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {useDropZone, useFileDialog} from '@vueuse/core'\nimport {computed, nextTick, onMounted, ref, type Ref, useAttrs, useTemplateRef, watch} from 'vue'\nimport type {BFormFileProps} from '../../types/ComponentProps'\nimport {useDefaults} from '../../composables/useDefaults'\nimport {useId} from '../../composables/useId'\nimport {useStateClass} from '../../composables/useStateClass'\nimport {isEmptySlot} from '../../utils/dom'\nimport type {BFormFileSlots} from '../../types'\n\ndefineOptions({\n  inheritAttrs: false,\n})\n\nconst _props = withDefaults(defineProps<Omit<BFormFileProps, 'modelValue'>>(), {\n  ariaLabel: undefined,\n  ariaLabelledby: undefined,\n  accept: '',\n  autofocus: false,\n  browseText: undefined,\n  capture: undefined,\n  directory: false,\n  disabled: false,\n  dropPlaceholder: undefined,\n  fileNameFormatter: undefined,\n  form: undefined,\n  id: undefined,\n  label: '',\n  labelClass: undefined,\n  multiple: false,\n  name: undefined,\n  noButton: false,\n  noDrop: false,\n  plain: false,\n  placeholder: 'No file chosen',\n  required: false,\n  showFileNames: false,\n  size: undefined,\n  state: null,\n})\nconst props = useDefaults(_props, 'BFormFile')\nconst slots = defineSlots<BFormFileSlots>()\n\nconst emit = defineEmits<{\n  change: [value: Event]\n}>()\n\nconst modelValue = defineModel<Exclude<BFormFileProps['modelValue'], undefined>>({\n  default: null,\n})\n\nconst attrs = useAttrs()\n\nconst processedAttrs = computed(() => {\n  // In plain mode, pass all attributes to the input element\n  if (props.plain) {\n    return {\n      wrapperAttrs: {},\n      inputAttrs: attrs,\n    }\n  }\n  // In custom mode, split class/style to wrapper, rest to input\n  const {class: wrapperClass, style: wrapperStyle, ...inputAttrs} = attrs\n  const wrapperAttrs: Record<string, unknown> = {}\n  if (wrapperClass !== undefined) wrapperAttrs.class = wrapperClass\n  if (wrapperStyle !== undefined) wrapperAttrs.style = wrapperStyle\n  return {wrapperAttrs, inputAttrs}\n})\n\nconst computedId = useId(() => props.id)\nconst stateClass = useStateClass(() => props.state)\n\n// Refs\nconst rootRef = useTemplateRef('rootRef')\nconst dropZoneRef = useTemplateRef('dropZoneRef')\nconst browseButtonRef = useTemplateRef('browseButtonRef')\nconst plainInputRef = useTemplateRef<HTMLInputElement>('plainInputRef')\nconst customInputRef = useTemplateRef<HTMLInputElement>('customInputRef')\n\n// Computed accept for file type validation\nconst computedAccept = computed(() =>\n  typeof props.accept === 'string' ? props.accept : props.accept.join(',')\n)\n\n// VueUse file dialog (uses our hidden input element)\nconst {\n  open,\n  reset: resetDialog,\n  onChange: onDialogChange,\n} = useFileDialog({\n  accept: computedAccept.value,\n  multiple: props.multiple || props.directory,\n  directory: props.directory,\n  input: customInputRef as unknown as Ref<HTMLInputElement>,\n})\n\n// VueUse drop zone (replaces manual drag/drop)\n// Note: We don't pass dataTypes because the accept attribute handles validation\n// and there is no reliable way to get MIME types from in all browsers\n// https://github.com/vueuse/vueuse/issues/4523\nconst {isOverDropZone} = useDropZone(dropZoneRef, {\n  onDrop: (files) => {\n    if (files && !props.noDrop) {\n      handleFiles(files)\n    }\n  },\n  multiple: props.multiple || props.directory,\n})\n\n// Computed properties\nconst hasLabelSlot = computed(() => !isEmptySlot(slots.label))\nconst hasPlaceholderSlot = computed(() => !isEmptySlot(slots.placeholder))\n\nconst computedClasses = computed(() => [\n  stateClass.value,\n  {\n    [`form-control-${props.size}`]: props.size !== undefined,\n  },\n])\n\nconst computedPlainClasses = computed(() => [\n  'form-control',\n  stateClass.value,\n  {\n    [`form-control-${props.size}`]: props.size !== undefined,\n  },\n])\n\n// Selected files (from dialog or managed state)\nconst internalFiles = ref<readonly File[]>([])\n\nconst selectedFiles = computed<readonly File[]>(() => internalFiles.value)\n\nconst hasFiles = computed(() => selectedFiles.value.length > 0)\n\nconst fileNames = computed(() => selectedFiles.value.map((file) => file.name))\n\nconst formattedFileNames = computed(() => {\n  if (!hasFiles.value) return ''\n  if (props.fileNameFormatter) {\n    return props.fileNameFormatter(selectedFiles.value)\n  }\n  const names = fileNames.value\n  if (names.length === 1) return names[0]\n  return `${names.length} files selected`\n})\n\nconst showExternalDisplay = computed(\n  () => !props.plain && props.showFileNames && (hasFiles.value || props.placeholder)\n)\n\n// ARIA live region message for accessibility\nconst ariaLiveMessage = computed(() => {\n  if (!hasFiles.value) return ''\n  const count = selectedFiles.value.length\n  if (count === 1) {\n    return `File selected: ${selectedFiles.value[0].name}`\n  }\n  return `${count} files selected`\n})\n\nconst effectiveBrowseText = computed(() => props.browseText ?? 'Browse')\nconst effectiveDropPlaceholder = computed(() => props.dropPlaceholder ?? 'Drop files here...')\n\n// Validate file against accept criteria\nconst isFileAccepted = (file: File): boolean => {\n  if (!computedAccept.value) return true\n\n  const acceptTypes = computedAccept.value.split(',').map((type) => type.trim())\n\n  return acceptTypes.some((acceptType) => {\n    // Extension match (e.g., .pdf)\n    if (acceptType.startsWith('.')) {\n      return file.name.toLowerCase().endsWith(acceptType.toLowerCase())\n    }\n    // Exact MIME type match (e.g., image/png)\n    if (!acceptType.includes('*')) {\n      return file.type === acceptType\n    }\n    // Wildcard MIME type match (e.g., image/* or */*)\n    const slashIndex = acceptType.indexOf('/')\n    if (slashIndex === -1) {\n      // Malformed wildcard pattern (no '/'): do not match anything\n      return false\n    }\n    const category = acceptType.slice(0, slashIndex)\n    // */* should match any MIME type\n    if (category === '*') {\n      return true\n    }\n    return file.type.startsWith(`${category}/`)\n  })\n}\n\n// File handling\nconst handleFiles = (files: File[] | FileList, nativeEvent?: Event) => {\n  let fileArray: File[] = []\n\n  if (nativeEvent) {\n    // Plain mode: read from the event target (browser already filtered via accept)\n    const input = nativeEvent.target as HTMLInputElement\n    fileArray = input.files ? Array.from(input.files) : []\n  } else {\n    // Custom mode (drag & drop or file dialog): manually filter and set on hidden input\n    fileArray = Array.from(files).filter((file) => isFileAccepted(file))\n    if (customInputRef.value && typeof DataTransfer !== 'undefined') {\n      try {\n        const dataTransfer = new DataTransfer()\n        fileArray.forEach((file) => dataTransfer.items.add(file))\n        customInputRef.value.files = dataTransfer.files\n      } catch {\n        // In environments where DataTransfer is not fully supported, skip syncing files on the input\n      }\n    }\n  }\n\n  // Update internal state\n  internalFiles.value = fileArray\n\n  // Update model value\n  if (fileArray.length === 0) {\n    modelValue.value = null\n  } else if (props.directory || props.multiple) {\n    modelValue.value = fileArray\n  } else {\n    const [firstFile] = fileArray\n    modelValue.value = firstFile\n  }\n\n  // Emit change event in nextTick to ensure DOM updates\n  // In plain mode: forward the native event (has target.files)\n  // In custom mode: create CustomEvent with files in detail\n  nextTick(() => {\n    if (nativeEvent) {\n      // Plain mode: forward native event\n      emit('change', nativeEvent)\n    } else {\n      // Custom mode: create CustomEvent with files\n      const changeEvent = new CustomEvent('change', {\n        bubbles: true,\n        cancelable: false,\n        detail: {\n          files: fileArray,\n          target: {files: fileArray},\n        },\n      })\n      // Also attach files directly for easier access\n      Object.defineProperty(changeEvent, 'files', {\n        value: fileArray,\n        enumerable: true,\n      })\n      emit('change', changeEvent)\n    }\n  })\n}\n\n// Open file dialog\nconst openFileDialog = () => {\n  if (!props.disabled) {\n    open({\n      accept: computedAccept.value,\n      multiple: props.multiple || props.directory,\n      directory: props.directory,\n    })\n  }\n}\n\n// Handle click on control wrapper (make entire control clickable like Bootstrap v5)\nconst handleControlClick = () => {\n  // Don't trigger if clicking the button itself (button has its own handler with .stop)\n  // Don't trigger if disabled\n  if (!props.disabled) {\n    openFileDialog()\n  }\n}\n\n// Plain mode change handler\nconst onPlainChange = (e: Event) => {\n  const input = e.target as HTMLInputElement\n  if (input.files) {\n    handleFiles(input.files, e) // Pass native event\n  }\n}\n\n// Watch dialog files from useFileDialog\nonDialogChange((files) => {\n  if (files) {\n    handleFiles(files)\n  }\n})\n\n// Reset method\nconst reset = () => {\n  internalFiles.value = []\n  modelValue.value = null\n  resetDialog() // This resets the hidden input in custom mode\n  if (plainInputRef.value) {\n    plainInputRef.value.value = ''\n  }\n}\n\n// Focus management\nconst focus = () => {\n  if (props.plain) {\n    plainInputRef.value?.focus()\n  } else {\n    browseButtonRef.value?.focus()\n  }\n}\n\nconst blur = () => {\n  if (props.plain) {\n    plainInputRef.value?.blur()\n  } else {\n    browseButtonRef.value?.blur()\n  }\n}\n\n// Autofocus support - initial focus on mount\nonMounted(() => {\n  if (props.autofocus) {\n    nextTick(() => {\n      focus()\n    })\n  }\n})\n\n// Autofocus support - runtime prop changes\nwatch(\n  () => props.autofocus,\n  (autofocus) => {\n    if (autofocus) {\n      focus()\n    }\n  }\n)\n\n// Watch modelValue changes from parent\nwatch(modelValue, (newValue) => {\n  if (newValue === null) {\n    internalFiles.value = []\n    if (plainInputRef.value) {\n      plainInputRef.value.value = ''\n    }\n  } else if (Array.isArray(newValue)) {\n    internalFiles.value = newValue as readonly File[]\n  } else {\n    internalFiles.value = [newValue] as readonly File[]\n  }\n})\n\ndefineExpose({\n  blur,\n  element: computed(() => (props.plain ? plainInputRef.value : browseButtonRef.value)),\n  focus,\n  reset,\n})\n</script>\n"],"names":["_useSlots","_useModel","_openBlock","_createElementBlock","_mergeProps","_unref","_normalizeClass","_renderSlot","_createTextVNode","_toDisplayString","_createElementVNode"],"mappings":"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"}