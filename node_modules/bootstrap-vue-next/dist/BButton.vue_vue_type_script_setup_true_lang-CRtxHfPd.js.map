{"version":3,"file":"BButton.vue_vue_type_script_setup_true_lang-CRtxHfPd.js","sources":["../src/components/BButton/BButton.vue"],"sourcesContent":["<template>\n  <component\n    :is=\"computedTag\"\n    ref=\"_element\"\n    class=\"btn\"\n    v-bind=\"linkProps\"\n    :class=\"computedClasses\"\n    :aria-disabled=\"computedAriaDisabled\"\n    :aria-pressed=\"isToggle ? pressedValue : null\"\n    :autocomplete=\"isToggle ? 'off' : null\"\n    :disabled=\"isButton ? props.disabled : null\"\n    :href=\"props.href\"\n    :rel=\"computedLink ? props.rel : null\"\n    :role=\"nonStandardTag || computedLink ? 'button' : null\"\n    :target=\"computedLink ? props.target : null\"\n    :type=\"isButton ? props.type : null\"\n    :to=\"!isButton ? props.to : null\"\n    @click=\"clicked\"\n  >\n    <slot v-if=\"props.loading\" name=\"loading\">\n      <template v-if=\"!props.loadingFill\">\n        {{ props.loadingText }}\n      </template>\n      <slot name=\"loading-spinner\">\n        <BSpinner\n          :small=\"props.size !== 'lg'\"\n          :label=\"props.loadingFill ? props.loadingText : undefined\"\n        />\n      </slot>\n    </slot>\n    <slot v-else />\n  </component>\n</template>\n\n<script setup lang=\"ts\">\nimport {computed, useTemplateRef} from 'vue'\nimport BSpinner from '../BSpinner/BSpinner.vue'\nimport {useBLinkHelper} from '../../composables/useBLinkHelper'\nimport BLink from '../BLink/BLink.vue'\nimport {useLinkClasses} from '../../composables/useLinkClasses'\nimport {onKeyStroke} from '@vueuse/core'\nimport type {BButtonProps} from '../../types/ComponentProps'\nimport {useDefaults} from '../../composables/useDefaults'\nimport type {ColorVariant} from '../../types/ColorTypes'\nimport {type BButtonEmits, type BButtonSlots} from '../../types'\n\nconst _props = withDefaults(defineProps<Omit<BButtonProps, 'pressed'>>(), {\n  loading: false,\n  loadingFill: false,\n  loadingText: 'Loading...',\n  pill: false,\n  size: 'md',\n  squared: false,\n  tag: 'button',\n  type: 'button',\n  // Link props\n  active: false, // Why is this active: false?\n  variant: 'secondary',\n  // All others use defaults\n  activeClass: undefined,\n  disabled: undefined,\n  exactActiveClass: undefined,\n  stretched: false,\n  href: undefined,\n  icon: false,\n  opacity: undefined,\n  opacityHover: undefined,\n  rel: undefined,\n  replace: undefined,\n  routerComponentName: undefined,\n  routerTag: undefined,\n  target: undefined,\n  to: undefined,\n  underlineOffset: undefined,\n  underlineOffsetHover: undefined,\n  underlineOpacity: undefined,\n  underlineOpacityHover: undefined,\n  underlineVariant: null,\n  // End link props\n})\nconst props = useDefaults(_props, 'BButton')\nconst emit = defineEmits<BButtonEmits>()\ndefineSlots<BButtonSlots>()\n\nconst element = useTemplateRef<HTMLButtonElement | null>('_element')\n\nconst pressedValue = defineModel<BButtonProps['pressed']>('pressed', {default: undefined})\n\nconst {computedLink, computedLinkProps} = useBLinkHelper(props, [\n  'active-class',\n  'exact-active-class',\n  'replace',\n  'routerComponentName',\n  'routerTag',\n])\n\nconst isToggle = computed(() => typeof pressedValue.value === 'boolean')\nconst isButton = computed(\n  () => props.tag === 'button' && props.href === undefined && props.to === undefined\n)\nconst isBLink = computed(() => props.to !== undefined)\nconst nonStandardTag = computed(() => (props.href !== undefined ? false : !isButton.value))\n\nconst linkProps = computed(() => (isBLink.value ? computedLinkProps.value : []))\nconst computedAriaDisabled = computed(() => {\n  if (props.href === '#' && props.disabled) return true\n\n  return nonStandardTag.value ? props.disabled : null\n})\n\nconst variantIsLinkType = computed(() => props.variant?.startsWith('link') || false)\nconst variantIsLinkTypeSubset = computed(() => props.variant?.startsWith('link-') || false)\nconst linkValueClasses = useLinkClasses(\n  computed(() => ({\n    ...(variantIsLinkType.value\n      ? {\n          icon: props.icon,\n          opacity: props.opacity,\n          opacityHover: props.opacityHover,\n          underlineOffset: props.underlineOffset,\n          underlineOffsetHover: props.underlineOffsetHover,\n          underlineOpacity: props.underlineOpacity,\n          underlineOpacityHover: props.underlineOpacityHover,\n          underlineVariant: props.underlineVariant,\n          variant:\n            variantIsLinkTypeSubset.value === true\n              ? (props.variant?.slice(5) as ColorVariant)\n              : null,\n        }\n      : undefined),\n  }))\n)\nconst computedClasses = computed(() => [\n  variantIsLinkType.value === true && computedLink.value === false\n    ? linkValueClasses.value\n    : undefined,\n  [`btn-${props.size}`],\n  {\n    [`btn-${props.variant}`]: props.variant !== null && variantIsLinkTypeSubset.value === false,\n    'active': props.active || pressedValue.value,\n    'rounded-pill': props.pill,\n    'rounded-0': props.squared,\n    'disabled': props.disabled,\n  },\n])\n\nconst computedTag = computed(() => (isBLink.value ? BLink : props.href ? 'a' : props.tag))\n\nconst clicked = (e: Readonly<MouseEvent>): void => {\n  if (props.disabled) {\n    e.preventDefault()\n    e.stopPropagation()\n    return\n  }\n  emit('click', e)\n  if (isToggle.value) pressedValue.value = !pressedValue.value\n}\n\nonKeyStroke(\n  [' ', 'enter'],\n  (e) => {\n    if (props.href === '#') {\n      e.preventDefault()\n      element.value?.click()\n    }\n  },\n  {target: element}\n)\n</script>\n"],"names":["_props","__props","props","useDefaults","emit","__emit","element","useTemplateRef","pressedValue","_useModel","computedLink","computedLinkProps","useBLinkHelper","isToggle","computed","value","isButton","tag","href","to","isBLink","nonStandardTag","linkProps","computedAriaDisabled","disabled","variantIsLinkType","variant","startsWith","variantIsLinkTypeSubset","linkValueClasses","useLinkClasses","icon","opacity","opacityHover","underlineOffset","underlineOffsetHover","underlineOpacity","underlineOpacityHover","underlineVariant","slice","computedClasses","size","active","pill","squared","computedTag","BLink","clicked","e","preventDefault","stopPropagation","onKeyStroke","click","target","_createBlock","_resolveDynamicComponent","_mergeProps","ref","class","autocomplete","_unref","rel","role","type","onClick","loading","_renderSlot","_ctx","loadingFill","_createElementBlock","_Fragment","key","_createTextVNode","_toDisplayString","loadingText","_createVNode","BSpinner","small","label","$slots"],"mappings":"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"}