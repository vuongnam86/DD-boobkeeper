{"version":3,"file":"BImg.vue_vue_type_script_setup_true_lang---JMJwZu.js","sources":["../src/components/BImg/BImg.vue"],"sourcesContent":["<template>\n  <component\n    :is=\"props.tag\"\n    :class=\"computedClasses\"\n    class=\"b-img\"\n    :src=\"!props.blank ? props.src : computedBlankImgSrc\"\n    :width=\"computedDimentions.width || undefined\"\n    :height=\"computedDimentions.height || undefined\"\n    :srcset=\"!props.blank ? computedSrcset : undefined\"\n    :sizes=\"!props.blank ? computedSizes : undefined\"\n    :loading=\"props.lazy ? 'lazy' : 'eager'\"\n  />\n</template>\n\n<script setup lang=\"ts\">\nimport type {BImgProps} from '../../types/ComponentProps'\nimport {useDefaults} from '../../composables/useDefaults'\nimport {computed} from 'vue'\nimport {useToNumber} from '@vueuse/core'\nimport {useRadiusElementClasses} from '../../composables/useRadiusElementClasses'\n\nconst _props = withDefaults(defineProps<BImgProps>(), {\n  blank: false,\n  blankColor: 'transparent',\n  block: false,\n  fluid: false,\n  fluidGrow: false,\n  height: undefined,\n  lazy: false,\n  sizes: undefined,\n  tag: 'img',\n  src: undefined,\n  srcset: undefined,\n  placement: undefined,\n  thumbnail: false,\n  width: undefined,\n  // RadiusElementExtendables props\n  rounded: false,\n  roundedBottom: undefined,\n  roundedEnd: undefined,\n  roundedStart: undefined,\n  roundedTop: undefined,\n  // End RadiusElementExtendables props\n})\nconst props = useDefaults(_props, 'BImg')\n\nconst heightNumber = useToNumber(() => props.height ?? Number.NaN)\nconst widthNumber = useToNumber(() => props.width ?? Number.NaN)\n\nconst radiusElementClasses = useRadiusElementClasses(() => ({\n  rounded: props.rounded,\n  roundedTop: props.roundedTop,\n  roundedBottom: props.roundedBottom,\n  roundedStart: props.roundedStart,\n  roundedEnd: props.roundedEnd,\n}))\n\nconst computedSrcset = computed(() =>\n  typeof props.srcset === 'string'\n    ? props.srcset\n        .split(',')\n        .filter((x) => x)\n        .join(',')\n    : Array.isArray(props.srcset)\n      ? props.srcset.filter((x) => x).join(',')\n      : undefined\n)\n\nconst computedSizes = computed(() =>\n  typeof props.sizes === 'string'\n    ? props.sizes\n        .split(',')\n        .filter((x) => x)\n        .join(',')\n    : Array.isArray(props.sizes)\n      ? props.sizes.filter((x) => x).join(',')\n      : undefined\n)\n\nconst computedDimentions = computed<{height: number | undefined; width: number | undefined}>(() => {\n  const width = Number.isNaN(widthNumber.value) ? undefined : widthNumber.value\n  const height = Number.isNaN(heightNumber.value) ? undefined : heightNumber.value\n  if (props.blank) {\n    if (width !== undefined && height === undefined) return {height: width, width}\n    if (width === undefined && height !== undefined) return {height, width: height}\n    if (width === undefined && height === undefined) return {height: 1, width: 1}\n  }\n  return {\n    width,\n    height,\n  }\n})\n\nconst computedBlankImgSrc = computed(() =>\n  makeBlankImgSrc(computedDimentions.value.width, computedDimentions.value.height, props.blankColor)\n)\n\nconst computedAlignment = computed(() => ({\n  'float-start': props.placement === 'start',\n  'float-end': props.placement === 'end',\n  'mx-auto': props.placement === 'center',\n}))\n\nconst computedClasses = computed(() => [\n  radiusElementClasses.value,\n  computedAlignment.value,\n  {\n    'img-thumbnail': props.thumbnail,\n    'img-fluid': props.fluid || props.fluidGrow,\n    'w-100': props.fluidGrow,\n    'd-block': props.block || props.placement === 'center',\n  },\n])\n\nconst makeBlankImgSrc = (width: number | undefined, height: number | undefined, color: string) =>\n  `data:image/svg+xml;charset=UTF-8,${encodeURIComponent(`<svg width=\"${width}\" height=\"${height}\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${width} ${height}\" preserveAspectRatio=\"none\">\n    <rect width=\"100%\" height=\"100%\" style=\"fill:${color};\"></rect>\n    </svg>`)}`\n</script>\n"],"names":["_props","__props","props","useDefaults","heightNumber","useToNumber","height","Number","NaN","widthNumber","width","radiusElementClasses","useRadiusElementClasses","rounded","roundedTop","roundedBottom","roundedStart","roundedEnd","computedSrcset","computed","srcset","split","filter","x","join","Array","isArray","computedSizes","sizes","computedDimentions","isNaN","value","blank","computedBlankImgSrc","makeBlankImgSrc","blankColor","computedAlignment","placement","computedClasses","thumbnail","fluid","fluidGrow","block","color","encodeURIComponent","_createBlock","_resolveDynamicComponent","_unref","tag","class","_normalizeClass","src","loading","lazy"],"mappings":"03BAqBA,MAAMA,EAASC,EAuBTC,EAAQC,EAAAA,YAAYH,EAAQ,QAE5BI,EAAeC,EAAAA,YAAY,IAAMH,EAAMI,QAAUC,OAAOC,KACxDC,EAAcJ,EAAAA,YAAY,IAAMH,EAAMQ,OAASH,OAAOC,KAEtDG,EAAuBC,EAAAA,wBAAwB,KAAA,CACnDC,QAASX,EAAMW,QACfC,WAAYZ,EAAMY,WAClBC,cAAeb,EAAMa,cACrBC,aAAcd,EAAMc,aACpBC,WAAYf,EAAMe,cAGdC,EAAiBC,EAAAA,SAAS,IACN,iBAAjBjB,EAAMkB,OACTlB,EAAMkB,OACHC,MAAM,KACNC,OAAQC,GAAMA,GACdC,KAAK,KACRC,MAAMC,QAAQxB,EAAMkB,QAClBlB,EAAMkB,OAAOE,OAAQC,GAAMA,GAAGC,KAAK,UACnC,GAGFG,EAAgBR,EAAAA,SAAS,IACN,iBAAhBjB,EAAM0B,MACT1B,EAAM0B,MACHP,MAAM,KACNC,OAAQC,GAAMA,GACdC,KAAK,KACRC,MAAMC,QAAQxB,EAAM0B,OAClB1B,EAAM0B,MAAMN,OAAQC,GAAMA,GAAGC,KAAK,UAClC,GAGFK,EAAqBV,EAAAA,SAAkE,KAC3F,MAAMT,EAAQH,OAAOuB,MAAMrB,EAAYsB,YAAS,EAAYtB,EAAYsB,MAClEzB,EAASC,OAAOuB,MAAM1B,EAAa2B,YAAS,EAAY3B,EAAa2B,MAC3E,GAAI7B,EAAM8B,MAAO,CACf,QAAc,IAAVtB,QAAkC,IAAXJ,QAA6B,CAACA,OAAQI,EAAOA,SACxE,QAAc,IAAVA,QAAkC,IAAXJ,QAA6B,CAACA,SAAQI,MAAOJ,GACxE,QAAc,IAAVI,QAAkC,IAAXJ,QAA6B,CAACA,OAAQ,EAAGI,MAAO,EAC7E,CACA,MAAO,CACLA,QACAJ,YAIE2B,EAAsBd,EAAAA,SAAS,IACnCe,EAAgBL,EAAmBE,MAAMrB,MAAOmB,EAAmBE,MAAMzB,OAAQJ,EAAMiC,aAGnFC,EAAoBjB,EAAAA,SAAS,KAAA,CACjC,cAAmC,UAApBjB,EAAMmC,UACrB,YAAiC,QAApBnC,EAAMmC,UACnB,UAA+B,WAApBnC,EAAMmC,aAGbC,EAAkBnB,EAAAA,SAAS,IAAM,CACrCR,EAAqBoB,MACrBK,EAAkBL,MAClB,CACE,gBAAiB7B,EAAMqC,UACvB,YAAarC,EAAMsC,OAAStC,EAAMuC,UAClC,QAASvC,EAAMuC,UACf,UAAWvC,EAAMwC,OAA6B,WAApBxC,EAAMmC,aAI9BH,EAAkB,CAACxB,EAA2BJ,EAA4BqC,IAC9E,oCAAoCC,mBAAmB,eAAelC,cAAkBJ,sDAA2DI,KAASJ,oFAC3GqC,yDAnHjDE,cAUEC,EAAAA,wBATKC,EAAAA,MAAA7C,GAAM8C,KAAG,CACbC,MAAKC,EAAAA,eAAA,CAAEZ,EAAAP,MACF,UACLoB,IAAMJ,WAAMf,MAAoBC,EAAAF,MAAZgB,EAAAA,MAAA7C,GAAMiD,IAC1BzC,MAAOmB,EAAAE,MAAmBrB,YAAS,EACnCJ,OAAQuB,EAAAE,MAAmBzB,aAAU,EACrCc,OAAS2B,EAAAA,MAAA7C,GAAM8B,WAAyB,EAAjBd,EAAAa,MACvBH,MAAQmB,EAAAA,MAAA7C,GAAM8B,WAAwB,EAAhBL,EAAAI,MACtBqB,QAASL,EAAAA,MAAA7C,GAAMmD,KAAI,OAAA"}