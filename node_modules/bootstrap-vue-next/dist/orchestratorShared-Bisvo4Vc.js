"use strict";const e=require("vue"),t=require("./keys-D59bcWpQ.js");const s=()=>({store:e.ref([]),_isOrchestratorInstalled:e.ref(!1),_isToastAppend:e.ref(!1)});exports._newOrchestratorRegistry=s,exports.buildPromise=function(t,s){let o=()=>{};const r=new Promise(e=>{o=e});return Object.assign(r,{id:t,ref:null,show(){const e=this.ref;return e?.show?(e.show(),r):this.set({modelValue:!0})},hide(e){const t=this.ref;return t?.hide?(t.hide(e,!0),r):this.set({modelValue:!1})},toggle(){const e=this.get(),t=this.ref;return t?.toggle?(t.toggle(),r):this.set({modelValue:!e?.modelValue})},get:()=>s.value.find(e=>e._self===t),set(o){const i=s.value.findIndex(e=>e._self===t),l=s.value[i];if(l){const t={...e.toValue(l),...e.toValue(o)};l.modelValue!==t.modelValue&&l["onUpdate:modelValue"]?.(t.modelValue);const r={...t,modelValue:e.toValue(t.modelValue)},n=t;"title"in n&&void 0!==n.title&&(r.title=e.toValue(n.title)),"body"in n&&void 0!==n.body&&(r.body=e.toValue(n.body)),s.value.splice(i,1,r)}return r},async destroy(){const o=s.value.find(e=>e._self===t);o&&(o.promise.stop?.(),o.modelValue&&await new Promise(t=>{const s=o.onHidden;o.onHidden=e=>{s?.(e),t(e)},e.nextTick(()=>{this.hide("destroy")})}),s.value.splice(s.value.findIndex(e=>e._self===t),1))},async[Symbol.asyncDispose](){await this.destroy()}}),{value:r,resolve:o,stop:void 0}},exports.useOrchestratorRegistry=()=>{const o=e.inject(t.orchestratorRegistryKey,void 0);if(o)return o;const r=s();return e.provide(t.orchestratorRegistryKey,r),r};
//# sourceMappingURL=orchestratorShared-Bisvo4Vc.js.map
